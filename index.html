<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>吃什么</title>
    <!-- 引入Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Font Awesome -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet"> -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <!-- 配置Tailwind自定义颜色 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4A90E2',
                        secondary: '#6BBBF7',
                        light: '#E8F4FC',
                        dark: '#2A6BBF',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>

    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .card-hover {
                transition: all 0.3s ease;
            }
            .card-hover:hover {
                transform: translateY(-5px);
            }
        }
    </style>
</head>

<body class="bg-gradient-to-br from-light to-blue-50 min-h-screen font-sans text-gray-800">
    <!-- 页面容器 -->
    <div class="container mx-auto px-4 py-8 max-w-5xl">
        <!-- 页面标题 -->
        <header class="text-center mb-12">
            <h1 class="text-[clamp(2rem,5vw,3.5rem)] font-bold text-primary mb-4 text-shadow">
                <i class="fa fa-cutlery mr-3"></i>晚饭吃什么
            </h1>
            <p class="text-gray-600 text-lg max-w-2xl mx-auto">
                呜呜呜呜吃什么
            </p>
        </header>

        <!-- 主要内容区 -->
        <main class="flex flex-col items-center">
            <!-- 食物展示卡片 -->
            <div id="food-card"
                class="w-full max-w-md bg-white rounded-2xl shadow-lg overflow-hidden mb-10 transition-all duration-500 transform">
                <div class="h-48 bg-gradient-to-r from-primary to-secondary flex items-center justify-center">
                    <i id="food-icon" class="fa fa-utensils text-white text-7xl"></i>
                </div>
                <div class="p-6 text-center">
                    <h2 id="food-name" class="text-2xl font-bold text-gray-800 mb-2">点击下方按钮选择</h2>
                    <p id="food-description" class="text-gray-600">
                        数百种美食等你来发现
                    </p>
                </div>
            </div>

            <!-- 控制按钮 -->
            <div class="flex flex-col sm:flex-row gap-4 w-full max-w-md">
                <button id="random-btn"
                    class="flex-1 bg-primary hover:bg-dark text-white font-bold py-4 px-6 rounded-full transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-md flex items-center justify-center">
                    <i class="fa fa-random mr-2"></i> 随机选择
                </button>
                <button id="reset-btn"
                    class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-4 px-6 rounded-full transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-md flex items-center justify-center">
                    <i class="fa fa-refresh mr-2"></i> 重置
                </button>
            </div>

            <!-- 食物列表 -->
            <div class="mt-16 w-full">
                <h3 class="text-xl font-bold text-primary mb-6 text-center">
                    <i class="fa fa-list-ul mr-2"></i>可选食物列表
                </h3>
                <div id="food-list" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
                    <!-- 食物列表将通过JS动态生成 -->
                </div>
            </div>
        </main>

        <!-- 页脚 -->
        <footer class="mt-20 text-center text-gray-500 text-sm pb-6">
            <p>吃什么选择器 &copy; 2025 | 用美食点亮你的休闲时光</p>
        </footer>
    </div>

</body>
<!-- 先引入数据文件 -->
<script src="foods.js"></script>
<script>
    // DOM元素
    const randomBtn = document.getElementById('random-btn');
    const resetBtn = document.getElementById('reset-btn');
    const foodCard = document.getElementById('food-card');
    const foodName = document.getElementById('food-name');
    const foodDescription = document.getElementById('food-description');
    const foodIcon = document.getElementById('food-icon');
    const foodList = document.getElementById('food-list');

    // 初始化食物列表
    function initFoodList() {
        foods.forEach(food => {
            const foodItem = document.createElement('div');
            foodItem.className = 'bg-white rounded-lg shadow p-3 text-center card-hover';
            foodItem.innerHTML = `
                    <i class="fa ${food.icon} text-primary text-xl mb-2"></i>
                    <p class="text-sm">${food.name}</p>
                `;
            foodList.appendChild(foodItem);
        });
    }

    // 随机选择食物
    function selectRandomFood() {
        // 添加动画效果
        foodCard.classList.add('opacity-0', 'scale-95');

        setTimeout(() => {
            const randomIndex = Math.floor(Math.random() * foods.length);
            const selectedFood = foods[randomIndex];

            // 更新卡片内容
            foodName.textContent = selectedFood.name;
            foodDescription.textContent = selectedFood.description;
            foodIcon.className = `fa ${selectedFood.icon} text-white text-7xl`;

            // 移除动画类，触发过渡效果
            foodCard.classList.remove('opacity-0', 'scale-95');
        }, 300);
    }

    // 重置卡片
    function resetCard() {
        foodCard.classList.add('opacity-0', 'scale-95');

        setTimeout(() => {
            foodName.textContent = "点击下方按钮选择";
            foodDescription.textContent = "数百种美食等你来发现";
            foodIcon.className = "fa fa-utensils text-white text-7xl";

            foodCard.classList.remove('opacity-0', 'scale-95');
        }, 300);
    }

    // 事件监听
    randomBtn.addEventListener('click', selectRandomFood);
    resetBtn.addEventListener('click', resetCard);

    // 页面加载完成后初始化
    window.addEventListener('DOMContentLoaded', () => {
        // 根据时间调整标题
        updateTimeBasedTitle();
        initFoodList();

        // 为按钮添加点击波纹效果
        const buttons = document.querySelectorAll('button');
        buttons.forEach(button => {
            button.addEventListener('click', function (e) {
                const x = e.clientX - e.target.getBoundingClientRect().left;
                const y = e.clientY - e.target.getBoundingClientRect().top;

                const ripple = document.createElement('span');
                ripple.style.left = x + 'px';
                ripple.style.top = y + 'px';
                ripple.classList.add('ripple');

                this.appendChild(ripple);

                setTimeout(() => {
                    ripple.remove();
                }, 600);
            });
        });
    });


    // 添加根据时间调整标题的函数
    function updateTimeBasedTitle() {
        const now = new Date();
        const hours = now.getHours();
        const titleElement = document.querySelector('header h1');
        const descriptionElement = document.querySelector('header p');

        let mealType = '晚饭';
        let description = '呜呜呜呜吃点啥';

        if (hours >= 5 && hours < 11) {
            mealType = '早饭';
            description = '早上好，来点营养早餐吧';
        } else if (hours >= 11 && hours < 14) {
            mealType = '午饭';
            description = '中午了，吃点好的犒劳自己';
        } else if (hours >= 14 && hours < 16) {
            mealType = '下午茶';
            description = '下午时光，来点小食补充能量';
        }
        // 18:00 以后默认为晚饭

        // 更新标题和描述
        titleElement.innerHTML = `<i class="fa fa-cutlery mr-3"></i>${mealType}吃什么`;
        descriptionElement.textContent = description;
    }
</script>

</html>